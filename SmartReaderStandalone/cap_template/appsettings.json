{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Microsoft.EntityFrameworkCore": "Warning"
    }
  },
  "AllowedHosts": "*",

  "ConnectionStrings": {
    "DefaultConnection": "Data Source=smartreader.db"
  },

  "ReaderConfiguration": {
    "Network": {
      "Hostname": "localhost",
      "Port": 443,
      "ConnectionTimeoutSeconds": 30,
      "UseHttps": true,
      "Proxy": {
        "Enabled": false,
        "Address": "",
        "Port": 8080,
        "RequiresAuthentication": false,
        "Username": "",
        "Password": "",
        "BypassOnLocal": true,
        "BypassList": [ "localhost", "127.0.0.1", "169.254.1.1" ],
        "ConnectionTimeoutSeconds": 30
      }
    },
    "Security": {
      "UseBasicAuth": true,
      "Username": "root",
      "Password": "impinj",
      "ValidateCertificates": false
    },
    "Streaming": {
      "HeartbeatIntervalSeconds": 30,
      "MessageTimeoutSeconds": 10,
      "MaxConcurrentStreams": 1,
      "BufferSize": 8192,
      "AutoReconnect": true,
      "MaxReconnectAttempts": 3,
      "UseCompression": false
    },
    "RetryPolicy": {
      "MaxAttempts": 3,
      "InitialDelayMs": 1000,
      "MaxDelayMs": 30000,
      "UseExponentialBackoff": true,
      "AddJitter": true,
      "RetryableStatusCodes": [ 408, 429, 500, 502, 503, 504 ]
    },
    "Gpo": {
      "DefaultPulseDurationMs": 1000,
      "MaxPulseDurationMs": 60000,
      "AllowNetworkControl": true,
      "DefaultConfigurations": [
        {
          "Gpo": 1,
          "Control": "Static",
          "State": "Low"
        },
        {
          "Gpo": 2,
          "Control": "Static",
          "State": "Low"
        },
        {
          "Gpo": 3,
          "Control": "Static",
          "State": "Low"
        }
      ]
    }
  },

  "ServerInfo": {
    "Url": "https://localhost:8443",
    "AuthToken": "your-auth-token-here"
  },

  "ReaderInfo": {
    "Address": "localhost",
    "DebugAddress": "192.168.68.248"
  },

  "RShellAuth": {
    "UserName": "root",
    "Password": "impinj"
  },

  "StreamProcessing": {
    "DefaultTimeoutSeconds": 10,
    "MaxRetryAttempts": 3,
    "RetryDelayMilliseconds": 1000,
    "MaxConcurrentStreams": 5
  },

  "GpoConfiguration": {
    "MaxSupportedPorts": 3,
    "SupportedPorts": [ 1, 2, 3 ],
    "DefaultControlMode": "Static",
    "DefaultState": "Low",
    "ValidationRules": {
      "RequireStateForStaticMode": true,
      "RequireStateForPulsedMode": true,
      "RequirePulseDurationForPulsedMode": true,
      "MinPulseDurationMs": 100,
      "MaxPulseDurationMs": 60000,
      "AllowNetworkControl": true
    },
    "ControlModes": {
      "Static": {
        "Description": "GPO state is set manually and remains fixed",
        "RequiresState": true,
        "RequiresPulseDuration": false
      },
      "Reader": {
        "Description": "GPO state is controlled by reader operations (e.g., tag reading)",
        "RequiresState": false,
        "RequiresPulseDuration": false
      },
      "Pulsed": {
        "Description": "GPO generates a pulse for a specified duration",
        "RequiresState": true,
        "RequiresPulseDuration": true
      },
      "Network": {
        "Description": "GPO state is controlled via network commands",
        "RequiresState": false,
        "RequiresPulseDuration": false
      }
    }
  },

  "ApiConfiguration": {
    "GpoEndpoints": {
      "GetConfiguration": "/api/gpo/configuration",
      "UpdateConfiguration": "/api/gpo/configuration",
      "SetGpoState": "/api/gpo/{gpoNumber}/state",
      "PulseGpo": "/api/gpo/{gpoNumber}/pulse",
      "ResetToDefaults": "/api/gpo/reset"
    },
    "Authentication": {
      "RequireAuthentication": true,
      "AuthenticationScheme": "BasicAuthentication",
      "RequiredRole": "Administrator"
    },
    "Swagger": {
      "Enabled": true,
      "Title": "SmartReader GPO API",
      "Version": "v1",
      "Description": "API for managing GPO configurations (supports 3 ports only: 1, 2, 3)"
    }
  },

  "Serilog": {
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "Microsoft.Hosting.Lifetime": "Information",
        "SmartReaderStandalone.IotDeviceInterface": "Debug",
        "SmartReaderStandalone.Controllers.GpoController": "Debug"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {SourceContext}: {Message:lj}{NewLine}{Exception}"
        }
      },
      {
        "Name": "File",
        "Args": {
          "path": "logs/smartreader-.log",
          "rollingInterval": "Day",
          "retainedFileCountLimit": 30,
          "outputTemplate": "[{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} {Level:u3}] {SourceContext}: {Message:lj}{NewLine}{Exception}"
        }
      }
    ]
  },

  "HealthChecks": {
    "Enabled": true,
    "Endpoints": {
      "Health": "/health",
      "Ready": "/ready",
      "Live": "/live"
    },
    "TimeoutSeconds": 30,
    "Checks": {
      "Database": true,
      "Reader": true,
      "Gpo": true,
      "Network": true
    }
  },

  "Features": {
    "GpoSupport": {
      "Enabled": true,
      "MaxPorts": 3,
      "SupportedModes": [ "Static", "ReadingTags", "Pulsed", "Network", "Running" ],
      "DefaultMode": "Static",
      "NetworkControlEnabled": true
    },
    "AdvancedGpo": {
      "Enabled": true,
      "PulseSupport": true,
      "NetworkControlSupport": true,
      "ValidationEnabled": true
    }
  },

  "UI": {
    "GpoConfiguration": {
      "ShowAdvancedOptions": true,
      "DefaultToAdvancedMode": false,
      "AutoValidation": true,
      "ShowValidationErrors": true,
      "ConfirmReset": true,
      "RefreshInterval": 30000
    }
  }
}